package server;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.SQLException;

import Service.AdminService;

public class AdminController {
    private PrintWriter out;
    private BufferedReader in;
    private AdminService adminService;

    public AdminController(PrintWriter out, BufferedReader in) {
        this.out = out;
        this.in = in;
        adminService = new AdminService();
    }

    public void processCommand(String command) throws IOException {
        if (command.startsWith("Admin_View")) {
        	try {
				adminService.viewAllMenuItems(out);
			} catch (SQLException e) {
				
				e.printStackTrace();
			}
		   
		} else if (command.startsWith("Admin_ADD")) {
			try {
				adminService.handleAddMenuItem(command);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		    // Implement add logic here
		} else if (command.startsWith("Admin_UPDATE")) {
		    
			try {
				adminService.handleUpdateMenuItem(command);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
			
		} else if (command.startsWith("Admin_DELETE")) {
			try {
				adminService.handleDeleteMenuItem(command);
			} catch (IOException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			} catch (SQLException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		} else {
		    out.println("Unknown admin command");
		}
    }
}
